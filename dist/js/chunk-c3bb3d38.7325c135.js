(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3bb3d38"],{"1dde":function(e,s,t){var a=t("d039"),r=t("b622"),i=t("2d00"),n=r("species");e.exports=function(e){return i>=51||!a((function(){var s=[],t=s.constructor={};return t[n]=function(){return{foo:1}},1!==s[e](Boolean).foo}))}},"2bee":function(e,s,t){},8418:function(e,s,t){"use strict";var a=t("a04b"),r=t("9bf2"),i=t("5c6c");e.exports=function(e,s,t){var n=a(s);n in e?r.f(e,n,i(0,t)):e[n]=t}},"95e7":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card card-container"},[t("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),t("form",{attrs:{name:"form"},on:{submit:function(s){return s.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e.successful?e._e():t("div",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(s){s.target.composing||e.$set(e.user,"username",s.target.value)}}}),e.submitted&&e.errors.has("username")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("username")))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"firstName"}},[e._v("First name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"firstName"},domProps:{value:e.user.firstName},on:{input:function(s){s.target.composing||e.$set(e.user,"firstName",s.target.value)}}}),e.submitted&&e.errors.has("firstName")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("firstName")))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"lastName"}},[e._v("Last name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"lastName"},domProps:{value:e.user.lastName},on:{input:function(s){s.target.composing||e.$set(e.user,"lastName",s.target.value)}}}),e.submitted&&e.errors.has("lastName")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("lastName")))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"status"}},[e._v("Status")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.status,expression:"user.status"},{name:"validate",rawName:"v-validate",value:"required|min:1|max:10",expression:"'required|min:1|max:10'"}],staticClass:"form-control",attrs:{type:"text",name:"status"},on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.$set(e.user,"status",s.target.multiple?t:t[0])}}},[t("option",{staticStyle:{color:"green"},attrs:{value:"active"}},[e._v("Active")]),t("option",{staticStyle:{color:"red"},attrs:{value:"disable"}},[e._v("Inactive")])]),e.submitted&&e.errors.has("status")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("status")))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"email"}},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}}),e.submitted&&e.errors.has("email")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),e.submitted&&e.errors.has("password")?t("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("password")))]):e._e()]),e._m(0)])]),e.message?t("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(e._s(e.message))]):e._e(),e.lastRegiserUser?t("div",{staticClass:"linkToUser animate__animated animate__fadeInDown"},[t("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"user/"+e.lastRegiserUser._id}},[t("span",[e._v("Go to profile "+e._s(e.lastRegiserUser.firstName)+" "+e._s(e.lastRegiserUser.lastName))])])],1):e._e()])])},r=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form-group"},[t("button",{staticClass:"addNewUser"},[t("span",[e._v("Add new driver")])])])}],i=(t("d3b7"),t("25f0"),t("fb6a"),t("8654")),n=t("bc3a"),o=t.n(n),u=t("c4c6"),l="http://localhost:3000/",c={name:"Register",data:function(){return{user:new i["a"]("","","","","",""),submitted:!1,successful:!1,lastRegiserUser:"",message:""}},methods:{handleRegister:function(){var e=this;this.message="",this.submitted=!0,this.$validator.validate().then((function(s){s&&e.$store.dispatch("auth/register",e.user).then((function(s){e.message=s.message,e.successful=!0,e.returnLastUser()}),(function(s){e.message=s.response&&s.response.data||s.message||s.toString(),e.successful=!1}))}))},returnLastUser:function(){var e=this;o.a.get(l+"admin/",{headers:Object(u["a"])()}).then((function(e){return e.data})).then((function(s){var t=e.lastRegiserUser=s;return t})).then((function(s){e.lastRegiserUser=s.slice(-1)[0]})).catch((function(e){console.log(e)}))}}},m=c,d=(t("9cd6"),t("2877")),v=Object(d["a"])(m,a,r,!1,null,"3b67f2a4",null);s["default"]=v.exports},"9cd6":function(e,s,t){"use strict";t("2bee")},c4c6:function(e,s,t){"use strict";function a(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}t.d(s,"a",(function(){return a}))},e8b5:function(e,s,t){var a=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},fb6a:function(e,s,t){"use strict";var a=t("23e7"),r=t("e8b5"),i=t("68ee"),n=t("861d"),o=t("23cb"),u=t("50c4"),l=t("fc6a"),c=t("8418"),m=t("b622"),d=t("1dde"),v=d("slice"),f=m("species"),p=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!v},{slice:function(e,s){var t,a,m,d=l(this),v=u(d.length),_=o(e,v),b=o(void 0===s?v:s,v);if(r(d)&&(t=d.constructor,i(t)&&(t===Array||r(t.prototype))?t=void 0:n(t)&&(t=t[f],null===t&&(t=void 0)),t===Array||void 0===t))return p.call(d,_,b);for(a=new(void 0===t?Array:t)(g(b-_,0)),m=0;_<b;_++,m++)_ in d&&c(a,m,d[_]);return a.length=m,a}})}}]);
//# sourceMappingURL=chunk-c3bb3d38.7325c135.js.map